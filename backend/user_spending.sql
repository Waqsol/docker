-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1
-- Время создания: Дек 19 2022 г., 09:40
-- Версия сервера: 10.4.25-MariaDB
-- Версия PHP: 8.1.10

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `product_order`
--

-- --------------------------------------------------------

--
-- Структура таблицы `order`
--

CREATE TABLE `order` (
  `id` int(10) NOT NULL,
  `date` date NOT NULL,
  `user_id` int(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `order`
--

INSERT INTO `order` (`id`, `date`, `user_id`) VALUES
(49, '2022-11-18', 1),
(50, '2022-11-19', 1),
(51, '2022-11-19', 1),
(52, '2022-11-19', 1),
(53, '2022-11-19', 1),
(54, '2022-11-19', 1),
(55, '2022-11-19', 1),
(56, '2022-11-19', 1),
(57, '2022-11-19', 1),
(58, '2022-11-19', 1),
(59, '2022-11-19', 1),
(60, '2022-11-19', 1),
(61, '2022-11-19', 1),
(62, '2022-11-19', 1),
(63, '2022-11-19', 1),
(64, '2022-11-19', 1),
(65, '2022-11-19', 1),
(66, '2022-11-19', 1),
(67, '2022-11-19', 1),
(68, '2022-11-19', 1),
(69, '2022-11-19', 1),
(70, '2022-11-19', 1),
(71, '2022-11-19', 1),
(72, '2022-11-19', 1),
(73, '2022-11-19', 1),
(74, '2022-11-19', 1),
(75, '2022-11-19', 1),
(76, '2022-11-19', 1),
(77, '2022-11-19', 1),
(78, '2022-11-19', 1),
(79, '2022-11-19', 1),
(80, '2022-11-19', 1),
(81, '2022-11-19', 1),
(82, '2022-11-19', 1),
(83, '2022-11-19', 1),
(84, '2022-11-19', 1),
(85, '2022-11-19', 1),
(86, '2022-11-19', 1),
(87, '2022-11-19', 1),
(88, '2022-11-19', 1),
(89, '2022-11-19', 1),
(90, '2022-11-19', 1),
(91, '2022-11-19', 1),
(92, '2022-11-19', 1),
(93, '2022-11-19', 1),
(94, '2022-11-19', 1),
(95, '2022-11-19', 1),
(96, '2022-11-19', 1),
(97, '2022-11-19', 1),
(98, '2022-11-19', 1),
(99, '2022-11-19', 1),
(100, '2022-11-19', 1),
(101, '2022-11-19', 1),
(102, '2022-11-19', 1),
(103, '2022-11-19', 1),
(104, '2022-11-19', 1),
(105, '2022-11-19', 1),
(106, '2022-11-19', 1),
(107, '2022-11-19', 1),
(108, '2022-11-19', 1),
(109, '2022-11-19', 1),
(110, '2022-11-19', 1),
(111, '2022-11-19', 1),
(112, '2022-11-19', 1),
(113, '2022-11-19', 1),
(114, '2022-11-19', 1),
(115, '2022-11-19', 1),
(116, '2022-11-19', 1),
(117, '2022-11-19', 1),
(118, '2022-11-19', 1),
(119, '2022-11-19', 1),
(120, '2022-11-19', 1),
(121, '2022-11-19', 1);

-- --------------------------------------------------------

--
-- Структура таблицы `order_product`
--

CREATE TABLE `order_product` (
  `id` int(10) NOT NULL,
  `product_id` int(10) NOT NULL,
  `order_id` int(10) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `order_product`
--

INSERT INTO `order_product` (`id`, `product_id`, `order_id`) VALUES
(1, 1, 49),
(2, 11, 49),
(3, 15, 50),
(4, 1, 51),
(5, 15, 51),
(6, 1, 52),
(7, 11, 52),
(8, 1, 53),
(9, 11, 53),
(10, 1, 54),
(11, 1, 56),
(12, 1, 69),
(13, 11, 70),
(14, 1, 70),
(15, 13, 70),
(16, 1, 72),
(17, 11, 72),
(18, 1, 74),
(19, 11, 74),
(20, 1, 75),
(21, 11, 75),
(22, 1, 75),
(23, 1, 76),
(24, 11, 76),
(25, 1, 76),
(26, 1, 76),
(27, 1, 77),
(28, 11, 77),
(29, 1, 77),
(30, 1, 77),
(31, 1, 78),
(32, 1, 78),
(33, 1, 79),
(34, 1, 79),
(35, 1, 79),
(36, 1, 80),
(37, 1, 80),
(38, 1, 80),
(39, 1, 80),
(40, 1, 81),
(41, 11, 81),
(42, 1, 82),
(43, 11, 82),
(44, 1, 82),
(45, 11, 82),
(46, 12, 84),
(47, 13, 84),
(48, 12, 85),
(49, 13, 85),
(50, 1, 85),
(51, 1, 85),
(52, 12, 86),
(53, 13, 86),
(54, 1, 86),
(55, 1, 86),
(56, 11, 86),
(57, 1, 86),
(58, 1, 86),
(59, 12, 87),
(60, 13, 87),
(61, 1, 87),
(62, 1, 87),
(63, 1, 87),
(64, 11, 87),
(65, 1, 87),
(66, 1, 87),
(67, 11, 87),
(68, 12, 88),
(69, 13, 88),
(70, 1, 88),
(71, 1, 88),
(72, 1, 88),
(73, 11, 88),
(74, 1, 88),
(75, 1, 88),
(76, 11, 88),
(77, 1, 88),
(78, 2, 89),
(79, 11, 90),
(80, 2, 90),
(81, 1, 90),
(82, 2, 91),
(83, 11, 91),
(84, 1, 91),
(85, 1, 91),
(86, 2, 92),
(87, 1, 92),
(88, 1, 92),
(89, 11, 92),
(90, 12, 92),
(91, 1, 92),
(92, 11, 92),
(93, 12, 92),
(94, 1, 92),
(95, 18, 93),
(96, 25, 93),
(97, 24, 93),
(98, 25, 93),
(99, 25, 93),
(100, 25, 93),
(101, 25, 93),
(102, 25, 93),
(103, 25, 93),
(104, 25, 93),
(105, 25, 93),
(106, 18, 94),
(107, 24, 94),
(108, 25, 94),
(109, 25, 94),
(110, 25, 94),
(111, 25, 94),
(112, 25, 94),
(113, 25, 94),
(114, 25, 94),
(115, 25, 94),
(116, 25, 94),
(117, 18, 95),
(118, 25, 95),
(119, 24, 95),
(120, 25, 95),
(121, 25, 95),
(122, 25, 95),
(123, 25, 95),
(124, 25, 95),
(125, 25, 95),
(126, 25, 95),
(127, 25, 95),
(128, 18, 96),
(129, 25, 96),
(130, 25, 96),
(131, 25, 96),
(132, 24, 96),
(133, 25, 96),
(134, 25, 96),
(135, 25, 96),
(136, 25, 96),
(137, 25, 96),
(138, 25, 96),
(139, 21, 98),
(140, 13, 99),
(141, 15, 99),
(142, 14, 99),
(143, 15, 99),
(144, 15, 99),
(145, 15, 99),
(146, 15, 99),
(147, 15, 99),
(148, 1, 100),
(149, 11, 100),
(150, 1, 102),
(151, 11, 102),
(152, 12, 102),
(153, 1, 110),
(154, 11, 110),
(155, 12, 110),
(156, 1, 111),
(157, 11, 111),
(158, 1, 112),
(159, 1, 112),
(160, 11, 112),
(161, 1, 113),
(162, 1, 113),
(163, 1, 113),
(164, 1, 113),
(165, 1, 113),
(166, 1, 114),
(167, 1, 114),
(168, 1, 114),
(169, 1, 114),
(170, 1, 116),
(171, 1, 116),
(172, 1, 117),
(173, 1, 117),
(174, 1, 118),
(175, 1, 118),
(176, 1, 119),
(177, 11, 119),
(178, 11, 119),
(179, 11, 119),
(180, 1, 120),
(181, 11, 120),
(182, 12, 120),
(183, 1, 121),
(184, 12, 121),
(185, 11, 121),
(186, 14, 121),
(187, 13, 121);

-- --------------------------------------------------------

--
-- Структура таблицы `product`
--

CREATE TABLE `product` (
  `id` int(10) NOT NULL,
  `category_id` int(10) NOT NULL,
  `name` varchar(50) NOT NULL,
  `price` int(10) NOT NULL,
  `bonus_price` int(10) NOT NULL,
  `discription` varchar(500) NOT NULL,
  `link` varchar(200) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `product`
--

INSERT INTO `product` (`id`, `category_id`, `name`, `price`, `bonus_price`, `discription`, `link`) VALUES
(1, 1, 'Пепперони и грибы', 450, 200, 'Пепперони, шампиньоны, соус грибной, сыр моцарелла', 'pizza/piz1.png'),
(2, 2, 'Салат Тайский ', 300, 150, 'Баклажаны, салат руккола, помидоры, редис, красный лук, соус чили сладкий, чеснок, кунжут', 'salat/salat1.png'),
(11, 1, 'Барбекю New', 500, 300, 'Ветчина, пепперони, курица, бекон, сыр моцарелла, руккола, соус барбекю', 'pizza/piz2.png'),
(12, 1, 'Маргарита', 400, 250, 'Томатный соус, сыр моцарелла', 'pizza/piz3.png'),
(13, 1, 'Столичная ', 450, 250, 'Курица, огурцы маринованные, шампиньоны, грибной соус, сыр моцарелла', 'pizza/piz4.png'),
(14, 1, 'Лосось и песто', 650, 400, 'Лосось, сыр моцарелла, руккола, соус песто, помидоры', 'pizza/piz5.png'),
(15, 1, 'Тропиканка', 500, 300, 'Маринованная курочка, ананасы, перчик халапеньо, соус сладкий чили, сыр моцарелла, фирменный томатный соус', 'pizza/piz6.png'),
(16, 2, 'Греческий Постный', 200, 150, 'Болгарский перец, помидоры, огурец, сыр тофу, салат айсберг, маслины, оливковое масло, красный лук', 'salat/salat2.png'),
(17, 2, 'Цезарь с курицей New', 350, 250, 'Курица, томаты черри, салат айсберг, романо, яйцо, пармезан, сухарики, соус цезарь', 'salat/salat3.png'),
(18, 2, 'Цезарь с креветками ', 350, 300, 'Тигровые креветки, томаты черри, салат айсберг, романо, яйцо, пармезан, сухарики, соус цезарь', 'salat/salat4.png'),
(19, 2, 'Собериська', 450, 350, 'Креветки тигровые, томаты черри, салат айсберг, редис, огурцы, капуста краснокочанная, рис, кунжут, кинза, соус поке', 'salat/salat5.png'),
(20, 2, 'Оливье', 350, 250, 'Куриное филе, картофель, яйцо, морковь, маринованные огурцы, зеленый горошек, майонез', 'salat/salat6.png'),
(21, 3, 'Матча', 150, 50, 'Тапиока, миндальное молоко, экстракт матча', 'drink/drink1.png'),
(22, 3, 'Мачиато Ред', 200, 100, 'Тапиока 3Q, красный чай, крем чиз', 'drink/drink2.png\r\n'),
(23, 3, 'Танче', 200, 100, 'Тапиока, миндальное молоко, экстракт бамбука, красный чай', 'drink/drink3.png'),
(24, 3, 'Кофейный', 200, 100, 'Тапиока, миндальное молоко, кофе', 'drink/drink4.png'),
(25, 3, 'Коричневый гриль', 200, 100, 'Тапиока, миндальное молоко, жжённый сахар, яичный крем', 'drink/drink5.png'),
(26, 3, 'Шоколад КэКрем', 230, 115, 'Тапиока, миндальное молоко, шоколад, крем', 'drink/drink6.png'),
(27, 3, 'Кимон', 200, 100, 'Желе фруктовые, зелёный чай, киви, лайм', 'drink/drink7.png');

-- --------------------------------------------------------

--
-- Структура таблицы `product_category`
--

CREATE TABLE `product_category` (
  `id` int(10) NOT NULL,
  `priority` int(10) NOT NULL,
  `name` varchar(50) NOT NULL,
  `link` varchar(200) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `product_category`
--

INSERT INTO `product_category` (`id`, `priority`, `name`, `link`) VALUES
(1, 1, 'Пицца', 'piz.png'),
(2, 2, 'Салаты', 'sal.png'),
(3, 3, 'Напитки', 'drink.png');

-- --------------------------------------------------------

--
-- Структура таблицы `user`
--

CREATE TABLE `user` (
  `id` int(10) NOT NULL,
  `name` varchar(50) NOT NULL,
  `address` varchar(150) NOT NULL,
  `bonus_money` int(10) NOT NULL,
  `password` varchar(150) NOT NULL,
  `admin` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `user`
--

INSERT INTO `user` (`id`, `name`, `address`, `bonus_money`, `password`, `admin`) VALUES
(1, '1', '0', 0, '$2a$10$KVHV6MEmAvLdOuB2C0f0AeMv0PGivHgDZUkek9PvBgf2kBAY63vBO', 0),
(2, 'first', '0', 0, '$2a$10$fUS8g0l4JGbk5ne24jrFZOub5ASSiw2DZZ55fxGrJJi40FDaOkQze', 0),
(3, 'second', '0', 1000, '$2a$10$L3rAl8I.BtQpoLYGpycmReHv5iyYDCP1ATwdMwEHJLwM9dGCtyObC', 0),
(4, 'third', '0', 19200, '$2a$10$Qpg63YyhD7tNKBWTfdtXaOno1HZ5m1zfjlumcEELmD.rP.768M1wu', 1),
(5, 'four', '0', 0, '$2a$10$VYHOI9h3cq5WIe5mS4zWJ.XLsw0VL.GtzsH58BPio2D6IvafZiS6i', 0);

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `order`
--
ALTER TABLE `order`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`);

--
-- Индексы таблицы `order_product`
--
ALTER TABLE `order_product`
  ADD PRIMARY KEY (`id`),
  ADD KEY `product_id` (`product_id`),
  ADD KEY `order_id` (`order_id`);

--
-- Индексы таблицы `product`
--
ALTER TABLE `product`
  ADD PRIMARY KEY (`id`),
  ADD KEY `category_id` (`category_id`);

--
-- Индексы таблицы `product_category`
--
ALTER TABLE `product_category`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `order`
--
ALTER TABLE `order`
  MODIFY `id` int(10) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=122;

--
-- AUTO_INCREMENT для таблицы `order_product`
--
ALTER TABLE `order_product`
  MODIFY `id` int(10) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=188;

--
-- AUTO_INCREMENT для таблицы `product`
--
ALTER TABLE `product`
  MODIFY `id` int(10) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=28;

--
-- AUTO_INCREMENT для таблицы `product_category`
--
ALTER TABLE `product_category`
  MODIFY `id` int(10) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT для таблицы `user`
--
ALTER TABLE `user`
  MODIFY `id` int(10) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `order`
--
ALTER TABLE `order`
  ADD CONSTRAINT `order_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `order_product`
--
ALTER TABLE `order_product`
  ADD CONSTRAINT `order_product_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `order_product_ibfk_2` FOREIGN KEY (`order_id`) REFERENCES `order` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `product`
--
ALTER TABLE `product`
  ADD CONSTRAINT `product_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `product_category` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
